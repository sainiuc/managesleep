
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>Manage Sleep</title>
    </head>
    <body>
        <div class="app">
            <h1><br/><img src="img/managesleep.png" width="200" alt="sleep"/><br/>Manage Sleep<br/><br/></h1>

<div id="formdiv" name="formdiv" class="formdiv">
<div>To get a personal late sleep phase programme, enter your children current sleep schedule:</div>
<br/>
    <div>
        <span>Child is naturally asleep by</span>
        <div>
            <select id="sleep" name="sleep" title="Usual sleep time" class="boxes">
  <option value="19:00"> 7:00 PM (19:00)</option>
  <option value="19:30"> 7:30 PM (19:30)</option>
  <option value="20:00"> 8:00 PM (20:00)</option>
  <option value="20:30"> 8:30 PM (20:30)</option>
  <option value="21:00"> 9:00 PM (21:00)</option>
  <option value="21:30"> 9:30 PM (21:30)</option>
  <option value="22:00">10:00 PM (22:00)</option>
  <option value="22:30">10:30 PM (22:30)</option>
  <option selected="selected" value="23:00">11:00 PM (23:00)</option>
  <option value="23:30">11:30 PM (23:30)</option>
  <option value="0:00">midnight</option>
  <option value="0:30">12:30 AM (0:30)</option>
  <option value="1:00"> 1:00 AM</option>
  <option value="1:30"> 1:30 AM</option>
  <option value="2:00"> 2:00 AM</option>
  <option value="2:30"> 2:30 AM</option>
  <option value="3:00"> 3:00 AM</option>
  <option value="3:30"> 3:30 AM</option>
  <option value="4:00"> 4:00 AM</option>
  <option value="4:30"> 4:30 AM</option>
  <option value="5:00"> 5:00 AM</option>
  <option value="5:30"> 5:30 AM</option>
  <option value="6:00"> 6:00 AM</option>
  <option value="6:30"> 6:30 AM</option>
            </select>
        </div>
    </div>
    
    
    <div>
        <span><br/>Child naturally wakes up without help at</span>
        <div>
            <select id="wake" name="wake" title="Usual wake time" class="boxes">
  <option value="3:00"> 3:00 AM</option>
  <option value="3:30"> 3:30 AM</option>
  <option value="4:00"> 4:00 AM</option>
  <option value="4:30"> 4:30 AM</option>
  <option value="5:00"> 5:00 AM</option>
  <option value="5:30"> 5:30 AM</option>
  <option value="6:00"> 6:00 AM</option>
  <option value="6:30"> 6:30 AM</option>
  <option value="7:00"> 7:00 AM</option>
  <option value="7:30"> 7:30 AM</option>
  <option value="8:00"> 8:00 AM</option>
  <option value="8:30"> 8:30 AM</option>
  <option selected="selected" value="9:00"> 9:00 AM</option>
  <option value="9:30"> 9:30 AM</option>
  <option value="10:00">10:00 AM</option>
  <option value="10:30">10:30 AM</option>
  <option value="11:00">11:00 AM</option>
  <option value="11:30">11:30 AM</option>
  <option value="12:00">noon</option>
            </select>
        </div>
    </div>
    
    
    <div>
        <span><br/>Desired regular wake up time</span>
        <div>
            <select id="ideal" name="ideal" title="Desired wake up time" class="boxes">
  <option value="2:00"> 2:00 AM</option>
  <option value="2:30"> 2:30 AM</option>
  <option value="3:00"> 3:00 AM</option>
  <option value="3:30"> 3:30 AM</option>
  <option value="4:00"> 4:00 AM</option>
  <option value="4:30"> 4:30 AM</option>
  <option value="5:00"> 5:00 AM</option>
  <option value="5:30"> 5:30 AM</option>
  <option value="6:00"> 6:00 AM</option>
  <option value="6:30"> 6:30 AM</option>
  <option selected="selected" value="7:00"> 7:00 AM</option>
  <option value="7:30"> 7:30 AM</option>
  <option value="8:00"> 8:00 AM</option>
  <option value="8:30"> 8:30 AM</option>
  <option value="9:00"> 9:00 AM</option>
  <option value="9:30"> 9:30 AM</option>
  <option value="10:00">10:00 AM</option>
  <option value="10:30">10:30 AM</option>
  <option value="11:00">11:00 AM</option>
  <option value="11:30">11:30 AM</option>
  <option value="12:00">noon</option>
            </select>
        </div>
    </div>
    
    <div>
        <span><br/>Move bedtime earlier every</span>
        <div>
            <select id="interval" name="interval" title="Changes interval" class="boxes">
  <option selected="selected" value="3">3 days (faster)</option>
  <option value="7">7 days (a week)</option>
            </select>
        </div>
    </div>

    <div>
        <br/><button type="button" onclick="javascript:getPlan();" class="butplan">Get programme</button><br/><br/><br/>
    </div>

</div>
    
<div id="plandiv" name="plandiv" class="plandiv">
    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>&nbsp;<br/>
</div>



        </div>


        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>

<script>

function getPlan(){

    var dsleep  = new Date('January 2, 1970 ' + $('#sleep').val()  + ':00');
    var dwake  = new Date('January 3, 1970 ' + $('#wake').val()  + ':00');
    var dideal = new Date('January 3, 1970 ' + $('#ideal').val() + ':00');
    var shift = 15;

    if(dideal.getTime() >= dwake.getTime())
    {
        alert('Desired wake up time should be before the usual wake up time.');
        return;
    }

    $('html,body').animate({scrollTop: $("#interval").offset().top},'slow');

    var txt='Follow this late sleep phase programme:';
    var mindiff = (dwake.getTime()-dideal.getTime())/60000;
    var zile = (mindiff/shift)+1;
    var dculcare = dsleep;
var droutine = new Date();
var dbye = new Date();
    var dsculare = dwake;
    var davoid = new Date();
    var dseekstart = new Date();
    var dseek = new Date();
    var interval = $("#interval").val();


    for(var z=1; z<zile; z++)
    {


        dsculare.setTime(dsculare.getTime() - 60000 * shift);
        dculcare.setTime(dculcare.getTime() - 60000 * shift);

        droutine.setTime(dculcare.getTime() - 60000 * 45);    //45mins before sleep
        dbye.setTime(dculcare.getTime() - 60000 * 30);        //15mins before sleep

        davoid.setTime(dculcare.getTime() - 60000 * 180);        //3 hours before sleep
        dseekstart.setTime(dsculare.getTime() + 60000 * shift);  //previous day sleep
        dseek.setTime(dseekstart.getTime() + 60000 * 180);       //3 hours after previous day sleep



        var culcare   = ('0' + dculcare.getHours()).slice(-2)   + ':' + ('0' + dculcare.getMinutes()).slice(-2);
        var routine   = ('0' + droutine.getHours()).slice(-2)   + ':' + ('0' + droutine.getMinutes()).slice(-2);
        var bye   = ('0' + dbye.getHours()).slice(-2)   + ':' + ('0' + dbye.getMinutes()).slice(-2);

        var sculare   = ('0' + dsculare.getHours()).slice(-2)   + ':' + ('0' + dsculare.getMinutes()).slice(-2);
        var avoid     = ('0' + davoid.getHours()).slice(-2)     + ':' + ('0' + davoid.getMinutes()).slice(-2);
        var seekstart = ('0' + dseekstart.getHours()).slice(-2) + ':' + ('0' + dseekstart.getMinutes()).slice(-2);
        var seek      = ('0' + dseek.getHours()).slice(-2)      + ':' + ('0' + dseek.getMinutes()).slice(-2);

        txt += '<br/><br/>Day ' + ((z-1)*interval+1) + ' to ' + (z*interval);
        txt += '<br/>' + 'Start bedtime routine: ' + routine;
        txt += '<br/>' + 'Say goodnight: ' + bye;
        txt += '<br/>' + 'Time to be asleep by: ' + culcare;

    }



    txt += '<br/><br/>During this programme, children will be even more tired because they will also be woken up at the regular time every morning including weekends. At the end of the programme, your child will sleep better and be a happier, less moody child.';

txt += '<br/><br/>Wake up needs to be at the same time every day, including weekends, when some children catch up on sleep and go to bed late again on Monday night.';
txt += '<br/>Changes should be introduced once child falls asleep within 15-20 minutes of going to bed';
txt += '<br/>Bedtime routine should last no longer than 30 to 45 minutes.';



    txt += '<br/><br/><br/><br/>Questions? Feedback? <a href="mailto:ContactWakeUpEarly@gmail.com">ContactManageSleep@gmail.com</a>';
    txt += '<br/><br/>Disclaimer: This application does not give or represent medical advice.<br/>Method checked by <a target="_blank" href="https://www.linkedin.com/in/ebichir">Dr Elena Bichir</a><br/><br/><br/>';

    $('#plandiv').html(txt);
}


</script>

<!--

Staying up late to watch TV or play in the garden, with the chance to lie in the next morning, can mean children’s sleep cycles naturally shift away from the ideal bedtime.

Children of all ages aren’t ready for bed until very late in the evening but then appear tired and cranky during the day. If this is left uncorrected, a late sleep phase might last indefinitely. However, the good news is that once you have recognised the problem, it can be reversed very effectively with a structured programme.

Bedtime can be gradually moved earlier while wake up kept every morning at a regular time (e.g. 7AM/7:00). Bedtime can be gradually moved earlier 15 minutes every 3 days or every week (7 days). 

During this programme, children will be even more tired because they will also be woken up at the regular time every morning including weekends. At the end of the programme, your child will sleep better and be a happier, less moody child.

Wake up needs to be at the same time every day, including weekends, when some children catch up on sleep and go to bed late again on Monday night. Changes should be introduced once child falls asleep within 15-20 minutes of going to bed. Bedtime routine should last no longer than 30 to 45 minutes.

-->

    </body>
</html>

